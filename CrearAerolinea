import boto3

def lambda_handler(event, context):
    body = json.loads(event.get('body', '{}'))  # Esto maneja el caso donde no haya un cuerpo válido

    # Obtener los datos de la aerolínea desde el cuerpo de la solicitud
    id_aerolinea = body.get('id_aerolinea')
    nombre = body.get('nombre')
    codigo = body.get('codigo')
    pais_origen = body.get('pais_origen')

    # Conectar con DynamoDB
    dynamodb = boto3.resource('dynamodb')
    table = dynamodb.Table('Aerolíneas')

    # Crear el item de la aerolínea
    aerolinea = {
        'id_aerolinea': id_aerolinea,
        'nombre': nombre,
        'codigo': codigo,
        'pais_origen': pais_origen
    }

    # Almacenar el item en DynamoDB
    response = table.put_item(Item=aerolinea)

    # Retornar una respuesta exitosa
    return {
        'statusCode': 200,
        'body': 'Aerolínea creada con éxito'
    }
